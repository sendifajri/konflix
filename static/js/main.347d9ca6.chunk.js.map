{"version":3,"sources":["layouts/main.tsx","components/SearchInput/index.tsx","utils/delayHandling.ts","hooks/useFirstUpdate.ts","actions/getActions.ts","reducers/movieReducer.ts","utils/api.ts","actions/movieActions.ts","pages/home/Header.tsx","hooks/useQuery.ts","components/MovieCard/index.tsx","components/InfiniteScroll/index.tsx","pages/home/MovieList.tsx","pages/home/index.tsx","App.tsx","reportWebVitals.ts","reducers/index.ts","store.ts","index.tsx"],"names":["Content","Layout","MainLayout","children","className","SearchInput","props","allowClear","prefix","icon","faSearch","color","style","width","data-testid","DelayHandling","loadingAction","action","delay","firstUpdate","useRef","useLayoutEffect","current","useFirstUpdate","useEffect","timeout","setTimeout","clearTimeout","getAction","url","initialValue","nameType","dispatch","Axios","get","then","payload","type","data","status","catch","MOVIE_INITIAL_STATE","Search","filters","page","search","MOVIE_DETAIL_INITIAL_STATE","Actors","Awards","BoxOffice","Country","DVD","Director","Genre","Language","Metascore","Plot","Poster","Production","Rated","Response","Runtime","Title","Type","Website","Writer","Year","imdbID","imdbRating","imdbVotes","Ratings","API_URL","process","GET_MOVIES","GET_MORE_MOVIES","GET_MOVIES_DETAIL","SET_FILTERS","setFilters","Typography","HomeHeader","history","useHistory","query","URLSearchParams","window","location","useDispatch","useState","undefined","setSearch","replace","movieActions","level","value","placeholder","onChange","e","target","Paragraph","Text","MovieCard","cover","alt","loading","src","preview","height","fallback","size","bordered","onClick","push","strong","ellipsis","rows","minHeight","InfiniteScroll","loadMore","minItem","disable","scrollRef","createRef","trackScrolling","bounding","getBoundingClientRect","bottom","innerHeight","isBottom","document","getElementsByClassName","length","addEventListener","removeEventListener","ref","MovieList","disableInfiniteScroll","moviesState","useSelector","state","moreMoviesAction","grid","gutter","column","xs","sm","dataSource","renderItem","item","Item","Home","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","movieDetailState","logger","createLogger","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.347d9ca6.chunk.js","sourcesContent":["import React from \"react\";\nimport { Layout } from \"antd\";\n\nconst { Content } = Layout;\ninterface MainLayoutProps {\n  children: React.ReactNode;\n}\n\nconst MainLayout = ({ children }: MainLayoutProps) => {\n  return (\n    <Layout>\n      <Content className=\"site-layout container\">\n        <div className=\"site-layout-background\">{children}</div>\n      </Content>\n    </Layout>\n  );\n};\n\nexport default MainLayout;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Input } from \"antd\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { InputProps } from \"antd/lib/input\";\n\nconst SearchInput = (props: InputProps) => {\n  return (\n    <Input\n      {...props}\n      className=\"search-input\"\n      allowClear\n      prefix={<FontAwesomeIcon icon={faSearch} color=\"#adadad\" />}\n      style={{ width: 300 }}\n      data-testid=\"search-input\"\n    />\n  );\n};\n\nexport default SearchInput;\n","import { useEffect } from \"react\";\nimport { useFirstUpdate } from \"../hooks/useFirstUpdate\";\n\ninterface IDelayHandling {\n  loadingAction: () => void;\n  action: () => void;\n  delay?: number;\n}\nexport default function DelayHandling({\n  loadingAction,\n  action,\n  delay,\n}: IDelayHandling) {\n  const firstUpdate = useFirstUpdate();\n  useEffect(() => {\n    if (firstUpdate) {\n      action();\n      return;\n    }\n    loadingAction();\n    const timeout = setTimeout(() => action(), delay || 500);\n    return () => clearTimeout(timeout);\n  }, [action, delay, firstUpdate, loadingAction]);\n}\n","import { useLayoutEffect, useRef } from \"react\";\n\nexport const useFirstUpdate = () => {\n  const firstUpdate = useRef(true);\n  useLayoutEffect(() => {\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n  });\n  return firstUpdate.current;\n};\n","import Axios from \"axios\";\nimport { IReducerAction } from \"../reducers\";\n\n// AT = Action Type\nexport interface IGetAction<AT> {\n  url: string;\n  nameType: string;\n  initialValue: AT;\n}\n\nexport type dispatchTypes<AT> = (args: IReducerAction<AT>) => void;\n\nexport function getAction<AT>({ url, initialValue, nameType }: IGetAction<AT>) {\n  return (dispatch: dispatchTypes<AT>) => {\n    Axios.get<AT>(url)\n      .then((payload) => {\n        const action: IReducerAction<AT> = {\n          type: nameType,\n          data: { ...payload.data, status: \"DONE\" },\n        };\n        return dispatch(action);\n      })\n      .catch(() => {\n        const action: IReducerAction<AT> = {\n          type: nameType,\n          data: { ...initialValue, status: \"ERROR\" },\n        };\n        return dispatch(action);\n      });\n  };\n}\n","import { IReducerAction, STATUS } from \".\";\nimport {\n  GET_MORE_MOVIES,\n  GET_MOVIES,\n  GET_MOVIES_DETAIL,\n  SET_FILTERS,\n} from \"../actions/movieActions\";\n\n// MOVIE\nexport interface IMovie {\n  Title: string;\n  Year: string;\n  imdbID: string;\n  Type: string;\n  Poster: string;\n}\n\nexport type MovieState = {\n  Search?: IMovie[];\n  status?: STATUS;\n  filters: {\n    page: number;\n    search: string;\n  };\n};\n\nexport type MovieAction = {\n  type: string;\n  movies: IMovie[];\n};\n\nexport type MovieDispatchType = (args: MovieAction) => MovieAction;\n\nexport const MOVIE_INITIAL_STATE: MovieState = {\n  Search: [],\n  status: \"LOADING\",\n  filters: {\n    page: 1,\n    search: \"\",\n  },\n};\n\nconst movieReducer = (\n  state = MOVIE_INITIAL_STATE,\n  action: IReducerAction<MovieState>\n) => {\n  switch (action.type) {\n    case SET_FILTERS:\n      return {\n        ...state,\n        filters: action.data.filters,\n      };\n    case GET_MOVIES:\n      return {\n        ...state,\n        Search: action.data.Search,\n        status: action.data.status,\n      };\n    case GET_MORE_MOVIES: {\n      if (!state.Search || !action.data.Search) {\n        return state;\n      }\n      return {\n        ...state,\n        Search: [...state.Search, ...action.data.Search],\n        status: action.data.status,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\n// END MOVIE\n\n// MOVIE DETAIL\n\nexport interface IMovieDetail extends IMovie {\n  Actors: string;\n  Awards: string;\n  BoxOffice: string;\n  Country: string;\n  DVD: string;\n  Director: string;\n  Genre: string;\n  Language: string;\n  Metascore: string;\n  Plot: string;\n  Poster: string;\n  Production: string;\n  Rated: string;\n  Ratings: { Source: string; Value: string }[];\n  Response: string;\n  Runtime: string;\n  Website: string;\n  Writer: string;\n  imdbRating: string;\n  imdbVotes: string;\n  status?: STATUS;\n}\n\nexport const MOVIE_DETAIL_INITIAL_STATE: IMovieDetail = {\n  Actors: \"\",\n  Awards: \"\",\n  BoxOffice: \"\",\n  Country: \"\",\n  DVD: \"\",\n  Director: \"\",\n  Genre: \"\",\n  Language: \"\",\n  Metascore: \"\",\n  Plot: \"\",\n  Poster: \"\",\n  Production: \"\",\n  Rated: \"\",\n  Response: \"\",\n  Runtime: \"\",\n  Title: \"\",\n  Type: \"\",\n  Website: \"\",\n  Writer: \"\",\n  Year: \"\",\n  imdbID: \"\",\n  imdbRating: \"\",\n  imdbVotes: \"\",\n  Ratings: [],\n  status: \"LOADING\",\n};\n\nconst movieDetailReducer = (\n  state: IMovieDetail = MOVIE_DETAIL_INITIAL_STATE,\n  action: IReducerAction<IMovieDetail>\n) => {\n  switch (action.type) {\n    case GET_MOVIES_DETAIL:\n      return {\n        ...state,\n        ...action.data,\n      };\n    default: {\n      return state;\n    }\n  }\n};\n\n// END MOVIE DETAIL\n\nexport { movieReducer, movieDetailReducer };\n","export const API_KEY = process.env.REACT_APP_API_KEY;\nexport const API_HOST = process.env.REACT_APP_API_HOST;\nexport const API_URL = `${API_HOST}?apikey=${API_KEY}`;\n","import { dispatchTypes, getAction } from \"./getActions\";\nimport {\n  MovieState,\n  MOVIE_INITIAL_STATE,\n  MOVIE_DETAIL_INITIAL_STATE,\n  IMovieDetail,\n} from \"../reducers/movieReducer\";\nimport { API_URL } from \"../utils/api\";\n\nexport interface IMovieActions {\n  search: string;\n  page: number;\n}\n\nexport interface IMovieDetailActions {\n  id: string;\n}\n\nexport const GET_MOVIES = \"GET_MOVIES\";\nexport const GET_MORE_MOVIES = \"GET_MORE_MOVIES\";\nexport const GET_MOVIES_DETAIL = \"GET_MOVIES_DETAIL\";\nexport const SET_FILTERS = \"SET_FILTERS\";\n\nexport const setFilters = ({ search, page }: IMovieActions) => (\n  dispatch: any\n) => {\n  dispatch({\n    type: \"SET_FILTERS\",\n    data: {\n      filters: {\n        search,\n        page,\n      },\n    },\n  });\n};\n\nexport const movieActions = ({ search, page }: IMovieActions) => (\n  dispatch: (\n    arg: (dispatch: dispatchTypes<MovieState>) => void\n  ) => dispatchTypes<MovieState>\n) => {\n  dispatch(setFilters({ search, page }));\n  dispatch(\n    getAction<MovieState>({\n      url: `${API_URL}&s=${search}&page=${page}`,\n      nameType: GET_MOVIES,\n      initialValue: MOVIE_INITIAL_STATE,\n    })\n  );\n};\n\nexport const moreMoviesAction = ({ search, page }: IMovieActions) => (\n  dispatch: (\n    arg: (dispatch: dispatchTypes<MovieState>) => void\n  ) => dispatchTypes<MovieState>\n) => {\n  dispatch(setFilters({ search, page }));\n  dispatch(\n    getAction<MovieState>({\n      url: `${API_URL}&s=${search}&page=${page}`,\n      nameType: GET_MORE_MOVIES,\n      initialValue: MOVIE_INITIAL_STATE,\n    })\n  );\n};\n\nexport const movieDetailActions = ({ id }: IMovieDetailActions) => (\n  dispatch: (\n    arg: (dispatch: dispatchTypes<IMovieDetail>) => void\n  ) => dispatchTypes<IMovieDetail>\n) => {\n  dispatch(movieDetailActionsLoading());\n  dispatch(\n    getAction<IMovieDetail>({\n      url: `${API_URL}&i=${id}`,\n      nameType: GET_MOVIES_DETAIL,\n      initialValue: MOVIE_DETAIL_INITIAL_STATE,\n    })\n  );\n};\n\nexport const movieDetailActionsLoading = () => (\n  dispatch: (arg: { type: string; data: IMovieDetail }) => void\n) => {\n  dispatch({\n    type: GET_MOVIES_DETAIL,\n    data: { ...MOVIE_DETAIL_INITIAL_STATE, status: \"LOADING\" },\n  });\n};\n\nexport const movieActionsLoading = () => (\n  dispatch: (arg: { type: string; data: MovieState }) => void\n) => {\n  dispatch({\n    type: GET_MOVIES,\n    data: { ...MOVIE_INITIAL_STATE, status: \"LOADING\" },\n  });\n};\n","import React, { useState } from \"react\";\nimport { Typography } from \"antd\";\nimport { useDispatch } from \"react-redux\";\nimport SearchInput from \"../../components/SearchInput\";\nimport DelayHandling from \"../../utils/delayHandling\";\nimport { movieActions, movieActionsLoading } from \"../../actions/movieActions\";\nimport { useHistory } from \"react-router-dom\";\nimport { useQuery } from \"../../hooks/useQuery\";\n\nconst { Title } = Typography;\n\nconst HomeHeader = () => {\n  const history = useHistory();\n  const query = useQuery();\n  const dispatch = useDispatch();\n  const [search, setSearch] = useState<string | undefined>(\n    query.get(\"s\") || undefined\n  );\n\n  DelayHandling({\n    loadingAction: () => dispatch(movieActionsLoading()),\n    action: () => {\n      if (search !== undefined) {\n        history.replace(`?s=${search}`);\n      }\n      dispatch(movieActions({ search: search || \"batman\", page: 1 }));\n    },\n  });\n\n  return (\n    <>\n      <Title level={1}>Find your favorite movie</Title>\n      <SearchInput\n        value={search}\n        placeholder=\"Ex 'Batman'\"\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n          setSearch(e.target.value)\n        }\n      />\n    </>\n  );\n};\n\nexport default HomeHeader;\n","export const useQuery = () => {\n  return new URLSearchParams(window.location.search);\n};\n","import { Card, Image, Tag, Typography } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport React from \"react\";\nimport { IMovie } from \"../../reducers/movieReducer\";\n\nexport const notfound =\n  \"data:image/png;base64,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\";\nconst { Paragraph, Text } = Typography;\n\ninterface MovieCardProps extends IMovie {\n  search: string;\n}\n\nconst MovieCard = (props: MovieCardProps) => {\n  const history = useHistory();\n\n  return (\n    <Card\n      className=\"movie-card\"\n      cover={\n        <Image\n          alt={props.Title}\n          loading=\"lazy\"\n          src={props.Poster}\n          preview={false}\n          height={300}\n          fallback={notfound}\n          className=\"object-fit-cover movie-poster\"\n          data-testid=\"movie-poster\"\n        />\n      }\n      size=\"small\"\n      bordered={false}\n      onClick={() => history.push(`/${props.imdbID}/${props.search}`)}\n    >\n      <Text type=\"secondary\" strong data-testid=\"movie-year\">\n        {props.Year}\n      </Text>\n      <Paragraph\n        ellipsis={{ rows: 2 }}\n        strong\n        style={{ minHeight: 44 }}\n        data-testid=\"movie-title\"\n      >\n        {props.Title}\n      </Paragraph>\n      <Tag className=\"movie-type\" color=\"#108ee9\" data-testid=\"movie-type\">\n        {props.Type}\n      </Tag>\n    </Card>\n  );\n};\n\nexport default MovieCard;\n","import React, { createRef, useEffect } from \"react\";\n\ninterface InfiniteScrollProps {\n  children: React.ReactNode;\n  loadMore: () => void;\n  minItem: number;\n  disable?: boolean;\n}\n\nconst InfiniteScroll = ({\n  children,\n  loadMore,\n  minItem,\n  disable,\n}: InfiniteScrollProps) => {\n  const scrollRef = createRef<HTMLDivElement>();\n\n  const isBottom = () => {\n    const bounding = scrollRef.current?.getBoundingClientRect().bottom;\n    if (bounding) {\n      return bounding - 40 <= window.innerHeight;\n    }\n    return false;\n  };\n\n  const countItems = () => {\n    const items = document.getElementsByClassName(\"page-items\");\n    return items.length >= minItem;\n  };\n\n  const trackScrolling = () => {\n    if (disable) {\n      return false;\n    }\n    if (!isBottom() || !countItems()) {\n      return false;\n    }\n    loadMore();\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"scroll\", trackScrolling);\n    return () => {\n      document.removeEventListener(\"scroll\", trackScrolling);\n    };\n  });\n\n  return (\n    <div\n      className=\"infinite-scroll\"\n      ref={scrollRef}\n      data-testid=\"infiniteScroll\"\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default InfiniteScroll;\n","import React from \"react\";\nimport { List } from \"antd\";\nimport MovieCard from \"../../components/MovieCard\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppState } from \"../../reducers\";\nimport { MovieState } from \"../../reducers/movieReducer\";\nimport InfiniteScroll from \"../../components/InfiniteScroll\";\nimport { moreMoviesAction } from \"../../actions/movieActions\";\n\ninterface MovieListProps {\n  disableInfiniteScroll?: boolean;\n}\n\nconst MovieList = ({ disableInfiniteScroll }: MovieListProps) => {\n  const moviesState = useSelector<AppState, MovieState>(\n    (state) => state.moviesState\n  );\n  const dispatch = useDispatch();\n\n  return (\n    <InfiniteScroll\n      minItem={10}\n      disable={disableInfiniteScroll}\n      loadMore={() =>\n        dispatch(\n          moreMoviesAction({\n            search: moviesState.filters.search,\n            page: moviesState.filters.page + 1,\n          })\n        )\n      }\n    >\n      <List\n        grid={{ gutter: 16, column: 5, xs: 2, sm: 16 }}\n        dataSource={moviesState.Search}\n        loading={moviesState.status === \"LOADING\"}\n        renderItem={(item) => (\n          <List.Item className=\"page-items\">\n            <MovieCard\n              key={item.imdbID}\n              {...item}\n              search={moviesState.filters.search}\n            />\n          </List.Item>\n        )}\n      />\n    </InfiniteScroll>\n  );\n};\n\nexport default MovieList;\n","import React from \"react\";\nimport HomeHeader from \"./Header\";\nimport MovieList from \"./MovieList\";\n\nconst Home = () => {\n  return (\n    <div>\n      <HomeHeader />\n      <br />\n      <br />\n      <MovieList />\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport MainLayout from \"./layouts/main\";\nimport Home from \"./pages/home\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport MovieDetail from \"./pages/movieDetail\";\nimport PreviewPoster from \"./pages/movieDetail/previewPoster\";\n\nexport interface MovieDetailParamTypes {\n  id: string;\n  search: string;\n}\n\nfunction App() {\n  return (\n    <Router>\n      <MainLayout>\n          <Home />\n        {/* <Route path=\"/\" exact>\n        </Route> */}\n        {/* <Route path=\"/:id/:search\">\n          <MovieDetail />\n        </Route>\n        <Route path=\"/:id/:search/preview\">\n          <PreviewPoster />\n        </Route> */}\n        <div>hiii test</div>\n      </MainLayout>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\nimport { movieDetailReducer, movieReducer } from \"./movieReducer\";\n\n// ASYNC STATUS TYPES;\nexport type STATUS = \"LOADING\" | \"DONE\" | \"ERROR\";\n\n// Dynamic reducer action types\nexport type IReducerAction<IData> = {\n  type: string;\n  data: IData;\n};\n\n// combine all reducers\nconst rootReducer = combineReducers({\n  moviesState: movieReducer,\n  movieDetailState: movieDetailReducer,\n});\n\nexport type AppState = ReturnType<typeof rootReducer>;\nexport default rootReducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { createLogger } from \"redux-logger\";\nimport rootReducer from \"./reducers\";\n\nconst logger = createLogger();\nconst store = createStore(rootReducer, applyMiddleware(thunk, logger));\n\nexport default store;\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"./index.less\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}